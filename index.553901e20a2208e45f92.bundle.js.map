{"version":3,"file":"index.553901e20a2208e45f92.bundle.js","mappings":"mHAIA,MAIMA,EAAMC,SAASC,cAAc,QAC7BC,EAAOH,EAAIE,cAAc,QACzBE,EAASJ,EAAIE,cAAc,UAC3BG,EAAYL,EAAIE,cAAc,eAE9BI,EAAWN,EAAIE,cAAc,SAC7BK,EAAWP,EAAIE,cAAc,SAC7BM,EAAeR,EAAIE,cAAc,cACjCO,EAAWT,EAAIE,cAAc,SAC7BQ,EAAWV,EAAIE,cAAc,SAInCS,eAAeC,EAAaC,GAC1B,MAAMC,EAAe,qDAAoDD,wDAEnEE,QAAiBC,MAAMF,GAE7B,aADmBC,EAASE,OAI9B,SAASC,EAAgBC,GACvB,MAAM,KACJC,EACAC,MAAM,KAAEC,GACRC,SAAUC,IACRL,EAGFX,EAAaiB,YAAc,IAG7BnB,EAASmB,YAAcL,EACvBb,EAASkB,YAAcH,EACvBb,EAASgB,YAAcD,EAAQE,YAC/BhB,EAASiB,IAAO,oCAAmCH,EAAQI,cAG7D,SAASC,EAAUhB,GACjBR,EAAUoB,YAAcZ,EACxBT,EAAO0B,MAAMC,QAAU,QA7BzBnB,EAdqB,UAcMoB,KAAKd,GAwChCf,EAAK8B,iBAAiB,UAAWC,IAC/BA,EAAEC,iBAR2B,SAAzB/B,EAAO0B,MAAMC,UAIjB3B,EAAO0B,MAAMC,QAAU,QAMvB,MACMlB,EADO,IAAIuB,SAASjC,GACRkC,IAAI,QAEjBxB,GAILD,EAAaC,GAAMmB,KAAKd,GAAiBoB,MAAMT,EAAUU,KAAK,KAAM1B,S","sources":["webpack://frontend-toolbox/./source/index.js"],"sourcesContent":["import './css/reset.css';\nimport './css/style.scss';\n\n// eslint-disable-next-line prefer-destructuring\nconst API_KEY = process.env.API_KEY;\nconst DEFAULT_CITY = 'London';\nconst DEFAULT_UNITS = 'metric';\n\nconst app = document.querySelector('#app');\nconst form = app.querySelector('form');\nconst errorP = app.querySelector('.error');\nconst errorSpan = app.querySelector('.error-span');\n\nconst cityElem = app.querySelector('.city');\nconst tempElem = app.querySelector('.temp');\nconst tempUnitElem = app.querySelector('.temp-unit');\nconst descElem = app.querySelector('.desc');\nconst iconElem = app.querySelector('.icon');\n\nfetchWeather(DEFAULT_CITY).then(updateWeatherUI);\n\nasync function fetchWeather(city) {\n  const WEATHER_URL = `https://api.openweathermap.org/data/2.5/weather?q=${city}&units=${DEFAULT_UNITS}&appid=${API_KEY}`;\n\n  const response = await fetch(WEATHER_URL);\n  const json = await response.json();\n  return json;\n}\n\nfunction updateWeatherUI(data) {\n  const {\n    name,\n    main: { temp },\n    weather: [primary],\n  } = data;\n\n  if (DEFAULT_UNITS === 'metric') {\n    tempUnitElem.textContent = 'C';\n  }\n\n  cityElem.textContent = name;\n  tempElem.textContent = temp;\n  descElem.textContent = primary.description;\n  iconElem.src = `http://openweathermap.org/img/wn/${primary.icon}@2x.png`;\n}\n\nfunction showError(city) {\n  errorSpan.textContent = city;\n  errorP.style.display = 'block';\n}\n\nfunction hideError() {\n  if (errorP.style.display === 'none') {\n    return;\n  }\n\n  errorP.style.display = 'none';\n}\n\nform.addEventListener('submit', (e) => {\n  e.preventDefault();\n  hideError();\n  const data = new FormData(form);\n  const city = data.get('city');\n\n  if (!city) {\n    return;\n  }\n\n  fetchWeather(city).then(updateWeatherUI).catch(showError.bind(null, city));\n});\n"],"names":["app","document","querySelector","form","errorP","errorSpan","cityElem","tempElem","tempUnitElem","descElem","iconElem","async","fetchWeather","city","WEATHER_URL","response","fetch","json","updateWeatherUI","data","name","main","temp","weather","primary","textContent","description","src","icon","showError","style","display","then","addEventListener","e","preventDefault","FormData","get","catch","bind"],"sourceRoot":""}